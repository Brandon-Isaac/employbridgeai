<div class="settings-container">
    <mat-card class="settings-card">
      <mat-card-header class="settings-header">
        <mat-card-title class="settings-title">
          <mat-icon class="settings-icon">settings</mat-icon>
          System Configuration
        </mat-card-title>
        <mat-card-subtitle class="settings-subtitle">
          Manage your platform settings and preferences
        </mat-card-subtitle>
      </mat-card-header>

      <mat-divider></mat-divider>

      <form [formGroup]="settingsForm" (ngSubmit)="onSubmit()" class="settings-form">
        <!-- General Settings Section -->
        <div class="settings-section">
          <h3 class="section-title">
            <mat-icon>tune</mat-icon>
            General Settings
          </h3>
          
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>System Name</mat-label>
            <input 
              matInput 
              formControlName="systemName" 
              placeholder="Enter your system name"
              required
            >
            <mat-icon matSuffix>badge</mat-icon>
            <mat-error *ngIf="settingsForm.get('systemName')?.hasError('required')">
              System name is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Default Language</mat-label>
            <mat-select formControlName="defaultLanguage" required>
              <mat-option *ngFor="let lang of languages" [value]lang.value">
                <span class="language-option">
                  <span class="flag-icon">{{ lang.flag }}</span>
                  {{ lang.name }} ({{ lang.nativeName }})
                </span>
              </mat-option>
            </mat-select>
            <mat-icon matSuffix>language</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Timezone</mat-label>
            <mat-select formControlName="timezone">
              <mat-option *ngFor="let tz of timezones" [value]tz.value">
                {{ tz.label }}
              </mat-option>
            </mat-select>
            <mat-icon matSuffix>schedule</mat-icon>
          </mat-form-field>
        </div>

        <mat-divider></mat-divider>

        <!-- Notification Settings Section -->
        <div class="settings-section">
          <h3 class="section-title">
            <mat-icon>notifications</mat-icon>
            Notification Settings
          </h3>

          <div class="toggle-row">
            <mat-slide-toggle 
              formControlName="enableEmailNotifications"
              color="primary"
            >
              Email Notifications
            </mat-slide-toggle>
            <mat-icon 
              matTooltip="Receive important system notifications via email"
              class="info-icon"
            >
              info_outline
            </mat-icon>
          </div>

          <div class="toggle-row">
            <mat-slide-toggle 
              formControlName="enablePushNotifications"
              color="primary"
            >
              Push Notifications
            </mat-slide-toggle>
            <mat-icon 
              matTooltip="Get real-time updates on your mobile device"
              class="info-icon"
            >
              info_outline
            </mat-icon>
          </div>

          <div class="toggle-row">
            <mat-slide-toggle 
              formControlName="enableSystemAlerts"
              color="primary"
            >
              System Alerts
            </mat-slide-toggle>
            <mat-icon 
              matTooltip="Critical system notifications and maintenance alerts"
              class="info-icon"
            >
              info_outline
            </mat-icon>
          </div>
        </div>

        <mat-divider></mat-divider>

        <!-- Analytics & Privacy Section -->
        <div class="settings-section">
          <h3 class="section-title">
            <mat-icon>analytics</mat-icon>
            Analytics & Privacy
          </h3>

          <div class="toggle-row">
            <mat-slide-toggle 
              formControlName="enableUsageAnalytics"
              color="primary"
            >
              Usage Analytics
            </mat-slide-toggle>
            <mat-icon 
              matTooltip="Help us improve by sharing anonymous usage data"
              class="info-icon"
            >
              info_outline
            </mat-icon>
          </div>

          <div class="toggle-row">
            <mat-slide-toggle 
              formControlName="enableErrorReporting"
              color="primary"
            >
              Error Reporting
            </mat-slide-toggle>
            <mat-icon 
              matTooltip="Automatically report system errors for faster resolution"
              class="info-icon"
            >
              info_outline
            </mat-icon>
          </div>

          <div class="toggle-row">
            <mat-slide-toggle 
              formControlName="enableDataCollection"
              color="primary"
            >
              Data Collection
            </mat-slide-toggle>
            <mat-icon 
              matTooltip="Allow collection of data for research and improvement purposes"
              class="info-icon"
            >
              info_outline
            </mat-icon>
          </div>
        </div>

        <mat-divider></mat-divider>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button 
            mat-stroked-button 
            type="button"
            (click)="resetToDefaults()"
            class="reset-button"
          >
            <mat-icon>restart_alt</mat-icon>
            Reset to Defaults
          </button>

          <button 
            mat-raised-button 
            color="primary"
            type="submit"
            [disabled]="!settingsForm.valid || !settingsForm.dirty"
            class="save-button"
          >
            <mat-icon>save</mat-icon>
            Save Changes
          </button>
        </div>
      </form>
    </mat-card>
  </div>